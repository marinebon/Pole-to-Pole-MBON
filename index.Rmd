---
title: "MBON Pole to Pole Project"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = F, message = F, warning = F)
```

Welcome! We're developing a Community of Practice across the Americas to assess marine biodiversity, both in situ and remotely.

## Community of Practice across the Americas

```{r}
library(tidyverse)
library(rnaturalearth) # install.packages("rnaturalearth")
library(sf)
library(leaflet)
library(here)
library(htmltools)

countries <- ne_countries(
  scale = "small", type = "countries", returnclass = "sf",
  continent= c("North America", "South America")) %>%
  mutate(
    mapcolor7 = as.factor(as.character(mapcolor7)))

sites <- read_csv(here("data/sites.csv")) # View(sites)


pal <- colorFactor("Set2", countries$mapcolor7)
leaflet(countries) %>%
  addProviderTiles(
    providers$Esri.OceanBasemap, 
    options = providerTileOptions(opacity = 0.5)) %>%
  addPolygons(
    stroke = FALSE, smoothFactor = 0.2, fillOpacity = 0.8,
    fillColor = ~pal(mapcolor7),
    label = ~admin) %>% 
  addMarkers(
    data = sites, 
    lng = ~longitude, lat = ~latitude, 
    popup = ~htmlEscape(name), label = ~htmlEscape(name))
```


